<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Test Psychologique - La Défense</title>
  <link rel="icon" type="image/png" href="https://i.imgur.com/PHdAamR.png"/>
  <style>
    :root {
      --primary: #4f46e5;
      --primary-dark: #4338ca;
      --light: #f8fafc;
      --gray: #64748b;
      --dark: #1e293b;
    }

    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
      color: var(--dark);
      min-height: 100vh;
      padding: 20px 12px;
    }

    .container {
      max-width: 720px;
      margin: 0 auto;
      background: white;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      overflow: hidden;
    }

    .header {
      background: var(--primary);
      color: white;
      padding: 2.5rem 2rem;
      text-align: center;
    }

    .header img {
      height: 64px;
      margin-bottom: 1rem;
    }

    .content {
      padding: 2.5rem 2rem;
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
    }

    .intro {
      color: var(--gray);
      margin-bottom: 2rem;
      line-height: 1.5;
    }

    .name-group {
      display: flex;
      gap: 1.2rem;
      margin-bottom: 2.2rem;
      flex-wrap: wrap;
    }

    .name-group input {
      flex: 1;
      min-width: 220px;
      padding: 0.9rem 1.1rem;
      border: 1px solid #cbd5e1;
      border-radius: 8px;
      font-size: 1rem;
    }

    .question {
      margin-bottom: 1.8rem;
    }

    .question p {
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--dark);
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
    }

    label {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      padding: 0.9rem 1.1rem;
      border: 1px solid #e2e8f0;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.15s;
    }

    label:hover {
      background: #f1f5f9;
      border-color: #cbd5e1;
    }

    input[type="radio"] {
      accent-color: var(--primary);
      transform: scale(1.2);
    }

    button {
      display: block;
      width: 100%;
      max-width: 320px;
      margin: 2.5rem auto 1rem;
      padding: 1.1rem;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }

    button:hover {
      background: var(--primary-dark);
    }

    #result {
      margin: 2rem 0;
      padding: 1.8rem;
      border-radius: 12px;
      background: #f0fdfa;
      border: 1px solid #99f6e4;
      text-align: center;
      font-size: 1.2rem;
      display: none;
    }

    .stable   { background: #ecfdf5; border-color: #6ee7b7; color: #065f46; }
    .unstable { background: #fef2f2; border-color: #fca5a5; color: #991b1b; }

    @media (max-width: 500px) {
      .content { padding: 2rem 1.4rem; }
      .name-group { flex-direction: column; gap: 1rem; }
    }
  </style>
</head>
<body>

<div class="container">
  <div class="header">
    <img src="https://i.imgur.com/PHdAamR.png" alt="Logo"/>
    <h1>Test de Stabilité Émotionnelle</h1>
  </div>

  <div class="content">
    <p class="intro">
      Répondez aux 20 affirmations ci-dessous en choisissant l'option qui vous correspond le mieux.<br>
      Soyez honnête — il n'y a pas de bonne ou mauvaise réponse.
    </p>

    <form id="psychoForm">
      <div class="name-group">
        <input type="text" id="prenom" placeholder="Prénom" required/>
        <input type="text" id="nom"    placeholder="Nom"    required/>
      </div>

      <!-- Questions -->
      <div class="question">
        <p>1. Je reste calme même dans des situations très stressantes.</p>
        <div class="options">
          <label><input type="radio" name="q1" value="4"> Tout à fait d'accord</label>
          <label><input type="radio" name="q1" value="3"> Plutôt d'accord</label>
          <label><input type="radio" name="q1" value="2"> Plutôt pas d'accord</label>
          <label><input type="radio" name="q1" value="1"> Pas du tout d'accord</label>
        </div>
      </div>

      <div class="question">
        <p>2. J’ai souvent des sautes d’humeur sans raison apparente.</p>
        <div class="options">
          <label><input type="radio" name="q2" value="1"> Tout à fait d'accord</label>
          <label><input type="radio" name="q2" value="2"> Plutôt d'accord</label>
          <label><input type="radio" name="q2" value="3"> Plutôt pas d'accord</label>
          <label><input type="radio" name="q2" value="4"> Pas du tout d'accord</label>
        </div>
      </div>

      <div class="question">
        <p>3. Je récupère rapidement après un échec ou une déception.</p>
        <div class="options">
          <label><input type="radio" name="q3" value="4"> Tout à fait d'accord</label>
          <label><input type="radio" name="q3" value="3"> Plutôt d'accord</label>
          <label><input type="radio" name="q3" value="2"> Plutôt pas d'accord</label>
          <label><input type="radio" name="q3" value="1"> Pas du tout d'accord</label>
        </div>
      </div>

      <div class="question">
        <p>4. Les petites critiques me touchent beaucoup.</p>
        <div class="options">
          <label><input type="radio" name="q4" value="1"> Tout à fait d'accord</label>
          <label><input type="radio" name="q4" value="2"> Plutôt d'accord</label>
          <label><input type="radio" name="q4" value="3"> Plutôt pas d'accord</label>
          <label><input type="radio" name="q4" value="4"> Pas du tout d'accord</label>
        </div>
      </div>

      <!-- Questions 5 à 20 (je les mets plus courtes pour ne pas alourdir le message) -->
      <div class="question"><p>5. Je rumine longtemps sur mes erreurs passées.</p><div class="options">
        <label><input type="radio" name="q5" value="1"> Tout à fait</label>
        <label><input type="radio" name="q5" value="2"> Plutôt</label>
        <label><input type="radio" name="q5" value="3"> Plutôt pas</label>
        <label><input type="radio" name="q5" value="4"> Pas du tout</label>
      </div></div>

      <div class="question"><p>6. Je m’adapte facilement aux changements imprévus.</p><div class="options">
        <label><input type="radio" name="q6" value="4"> Tout à fait</label><label><input type="radio" name="q6" value="3"> Plutôt</label>
        <label><input type="radio" name="q6" value="2"> Plutôt pas</label><label><input type="radio" name="q6" value="1"> Pas du tout</label>
      </div></div>

      <div class="question"><p>7. J’ai souvent l’impression que tout va mal tourner.</p><div class="options">
        <label><input type="radio" name="q7" value="1"> Tout à fait</label><label><input type="radio" name="q7" value="2"> Plutôt</label>
        <label><input type="radio" name="q7" value="3"> Plutôt pas</label><label><input type="radio" name="q7" value="4"> Pas du tout</label>
      </div></div>

      <div class="question"><p>8. Je garde mon sang-froid quand quelqu’un m’énerve.</p><div class="options">
        <label><input type="radio" name="q8" value="4"> Tout à fait</label><label><input type="radio" name="q8" value="3"> Plutôt</label>
        <label><input type="radio" name="q8" value="2"> Plutôt pas</label><label><input type="radio" name="q8" value="1"> Pas du tout</label>
      </div></div>

      <div class="question"><p>9. Je me sens souvent submergé(e) par mes émotions.</p><div class="options">
        <label><input type="radio" name="q9" value="1"> Tout à fait</label><label><input type="radio" name="q9" value="2"> Plutôt</label>
        <label><input type="radio" name="q9" value="3"> Plutôt pas</label><label><input type="radio" name="q9" value="4"> Pas du tout</label>
      </div></div>

      <div class="question"><p>10. Je prends des décisions réfléchies même sous pression.</p><div class="options">
        <label><input type="radio" name="q10" value="4"> Tout à fait</label><label><input type="radio" name="q10" value="3"> Plutôt</label>
        <label><input type="radio" name="q10" value="2"> Plutôt pas</label><label><input type="radio" name="q10" value="1"> Pas du tout</label>
      </div></div>

      <div class="question"><p>11. Je m’inquiète beaucoup pour l’avenir.</p><div class="options">
        <label><input type="radio" name="q11" value="1"> Tout à fait</label><label><input type="radio" name="q11" value="2"> Plutôt</label>
        <label><input type="radio" name="q11" value="3"> Plutôt pas</label><label><input type="radio" name="q11" value="4"> Pas du tout</label>
      </div></div>

      <div class="question"><p>12. Je supporte bien les situations ambiguës / incertaines.</p><div class="options">
        <label><input type="radio" name="q12" value="4"> Tout à fait</label><label><input type="radio" name="q12" value="3"> Plutôt</label>
        <label><input type="radio" name="q12" value="2"> Plutôt pas</label><label><input type="radio" name="q12" value="1"> Pas du tout</label>
      </div></div>

      <div class="question"><p>13. Je me sens souvent fatigué(e) sans raison physique.</p><div class="options">
        <label><input type="radio" name="q13" value="1"> Tout à fait</label><label><input type="radio" name="q13" value="2"> Plutôt</label>
        <label><input type="radio" name="q13" value="3"> Plutôt pas</label><label><input type="radio" name="q13" value="4"> Pas du tout</label>
      </div></div>

      <div class="question"><p>14. Je suis capable de relativiser les problèmes.</p><div class="options">
        <label><input type="radio" name="q14" value="4"> Tout à fait</label><label><input type="radio" name="q14" value="3"> Plutôt</label>
        <label><input type="radio" name="q14" value="2"> Plutôt pas</label><label><input type="radio" name="q14" value="1"> Pas du tout</label>
      </div></div>

      <div class="question"><p>15. J’ai du mal à me détendre complètement.</p><div class="options">
        <label><input type="radio" name="q15" value="1"> Tout à fait</label><label><input type="radio" name="q15" value="2"> Plutôt</label>
        <label><input type="radio" name="q15" value="3"> Plutôt pas</label><label><input type="radio" name="q15" value="4"> Pas du tout</label>
      </div></div>

      <div class="question"><p>16. Je me sens globalement équilibré(e) dans ma vie.</p><div class="options">
        <label><input type="radio" name="q16" value="4"> Tout à fait</label><label><input type="radio" name="q16" value="3"> Plutôt</label>
        <label><input type="radio" name="q16" value="2"> Plutôt pas</label><label><input type="radio" name="q16" value="1"> Pas du tout</label>
      </div></div>

      <div class="question"><p>17. Les conflits me perturbent longtemps.</p><div class="options">
        <label><input type="radio" name="q17" value="1"> Tout à fait</label><label><input type="radio" name="q17" value="2"> Plutôt</label>
        <label><input type="radio" name="q17" value="3"> Plutôt pas</label><label><input type="radio" name="q17" value="4"> Pas du tout</label>
      </div></div>

      <div class="question"><p>18. Je fais confiance à ma capacité à surmonter les difficultés.</p><div class="options">
        <label><input type="radio" name="q18" value="4"> Tout à fait</label><label><input type="radio" name="q18" value="3"> Plutôt</label>
        <label><input type="radio" name="q18" value="2"> Plutôt pas</label><label><input type="radio" name="q18" value="1"> Pas du tout</label>
      </div></div>

      <div class="question"><p>19. Je ressens souvent de l’irritabilité sans raison claire.</p><div class="options">
        <label><input type="radio" name="q19" value="1"> Tout à fait</label><label><input type="radio" name="q19" value="2"> Plutôt</label>
        <label><input type="radio" name="q19" value="3"> Plutôt pas</label><label><input type="radio" name="q19" value="4"> Pas du tout</label>
      </div></div>

      <div class="question"><p>20. Globalement, je me sens stable émotionnellement.</p><div class="options">
        <label><input type="radio" name="q20" value="4"> Tout à fait d’accord</label>
        <label><input type="radio" name="q20" value="3"> Plutôt d’accord</label>
        <label><input type="radio" name="q20" value="2"> Plutôt pas d’accord</label>
        <label><input type="radio" name="q20" value="1"> Pas du tout d’accord</label>
      </div></div>

      <button type="button" id="submitBtn">Valider mes réponses</button>
    </form>

    <div id="result"></div>
  </div>
</div>

<script>
  document.getElementById('submitBtn').addEventListener('click', () => {
    const form = document.getElementById('psychoForm');
    const prenom = document.getElementById('prenom').value.trim();
    const nom    = document.getElementById('nom').value.trim();

    if (!prenom || !nom) {
      alert("Veuillez entrer votre prénom et nom.");
      return;
    }

    let score = 0;
    let allAnswered = true;
    const answers = {};

    for (let i = 1; i <= 20; i++) {
      const radios = form.querySelectorAll(`input[name="q${i}"]:checked`);
      if (radios.length === 0) {
        allAnswered = false;
        break;
      }
      const val = parseInt(radios[0].value);
      score += val;
      answers[`q${i}`] = val;
    }

    if (!allAnswered) {
      alert("Veuillez répondre à toutes les questions.");
      return;
    }

    const stability = score >= 55 ? "Stable" : "Instable";

    const resultDiv = document.getElementById('result');
    resultDiv.innerHTML = `
      <strong>${prenom} ${nom}</strong><br>
      Score : ${score} / 80<br>
      État : <span style="font-size:1.3em;">${stability}</span>
    `;
    resultDiv.className = stability === "Stable" ? "stable" : "unstable";
    resultDiv.style.display = "block";

    // Préparation des données pour Google Sheet
    const formData = new FormData();
    formData.append('prenom', prenom);
    formData.append('nom', nom);
    formData.append('score', score);
    formData.append('stability', stability);

    for (let i = 1; i <= 20; i++) {
      formData.append(`q${i}`, answers[`q${i}`]);
    }

    // → Remplacez par VOTRE URL Apps Script
    const scriptURL = "https://script.google.com/macros/s/VOTRE_ID_DE_SCRIPT/exec";

    fetch(scriptURL, { method: 'POST', body: formData })
      .then(()  => console.log("Réponse enregistrée"))
      .catch(e => console.error("Erreur envoi →", e));
  });
</script>
</body>
</html>
